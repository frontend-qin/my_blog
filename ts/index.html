<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础语法 | 前端</title>
    <meta name="description" content="Document">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/my_blog/assets/css/0.styles.ed587bd6.css" as="style"><link rel="preload" href="/my_blog/assets/js/app.34ed07df.js" as="script"><link rel="preload" href="/my_blog/assets/js/3.acf4e5e6.js" as="script"><link rel="preload" href="/my_blog/assets/js/1.08a2e124.js" as="script"><link rel="preload" href="/my_blog/assets/js/16.1c7b15c1.js" as="script"><link rel="prefetch" href="/my_blog/assets/js/10.f634250d.js"><link rel="prefetch" href="/my_blog/assets/js/11.548877fc.js"><link rel="prefetch" href="/my_blog/assets/js/12.c63f551d.js"><link rel="prefetch" href="/my_blog/assets/js/13.ac3a53b0.js"><link rel="prefetch" href="/my_blog/assets/js/14.ba4dfa66.js"><link rel="prefetch" href="/my_blog/assets/js/15.f59c83bc.js"><link rel="prefetch" href="/my_blog/assets/js/17.20a69d51.js"><link rel="prefetch" href="/my_blog/assets/js/18.77ce8c59.js"><link rel="prefetch" href="/my_blog/assets/js/19.7ff9e91c.js"><link rel="prefetch" href="/my_blog/assets/js/4.2bcea270.js"><link rel="prefetch" href="/my_blog/assets/js/5.8fe3d49f.js"><link rel="prefetch" href="/my_blog/assets/js/6.e3e8ae46.js"><link rel="prefetch" href="/my_blog/assets/js/7.f6b044f5.js"><link rel="prefetch" href="/my_blog/assets/js/8.fe765ae3.js"><link rel="prefetch" href="/my_blog/assets/js/9.91943f19.js">
    <link rel="stylesheet" href="/my_blog/assets/css/0.styles.ed587bd6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-ad130a7c><div data-v-ad130a7c><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-ad130a7c data-v-ad130a7c><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out is-home" style="display:none;" data-v-262b1d1e data-v-ad130a7c data-v-ad130a7c><h3 class="title" data-v-262b1d1e>前端</h3> <p class="description" data-v-262b1d1e>Document</p> <label id="box" class="inputBox" data-v-262b1d1e><input type="password" value="" data-v-262b1d1e> <span data-v-262b1d1e>Konck! Knock!</span> <button data-v-262b1d1e>OK</button></label> <div class="footer" data-v-262b1d1e><span data-v-262b1d1e><i class="iconfont reco-theme" data-v-262b1d1e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-262b1d1e>vuePress-theme-reco</a></span> <span data-v-262b1d1e><i class="iconfont reco-other" data-v-262b1d1e></i> <a data-v-262b1d1e>laoqin</a></span> <span data-v-262b1d1e><i class="iconfont reco-copyright" data-v-262b1d1e></i> <a data-v-262b1d1e>2019</a></span></div></div> <div class="hide" data-v-ad130a7c><header class="navbar" data-v-ad130a7c><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my_blog/" class="home-link router-link-active"><img src="/my_blog/logo.png" alt="前端" class="logo"> <span class="site-name">前端</span></a> <div class="links"><!----> <div class="fullscreen-wrapper screenfull" data-v-669fca12><svg t="1574746366011" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5517" width="200" height="200" class="icon" data-v-669fca12><path d="M223.51420462 330.2102269h1.49573886c0 32.21590925 0.26846576 64.43181848-0.19176196 96.64772772-0.15340924 8.8977269 2.9914769 11.16051113 11.390625 10.96875 19.06107962-0.3835231 38.16051113-0.23011387 57.22159158 0.421875 8.24573887 0.26846576 10.9303981-2.30113613 10.6235788-10.62357962-0.76704538-19.67471576-0.65198887-39.38778425-0.84375-59.0625 0-2.0710231-0.65198887-4.6789769 1.87926197-5.82954538 2.5696019-1.15056848 3.8352269 1.2272731 5.40767037 2.60795462 1.15056848 1.03551113 2.22443152 2.18607962 3.33664728 3.29829538 35.09232962 35.0539769 70.26136387 70.03125 105.16193235 105.27698886 5.59943152 5.63778425 9.47301113 7.47869348 15.83948803 0.61363614 12.54119348-13.5 25.61931848-26.5397731 39.11931848-39.11931849 6.86505652-6.3664769 7.09517038-10.47017038 0.19176114-17.22017037-35.8210231-35.16903424-71.22017038-70.79829538-106.69602228-106.35085189-1.91761387-1.91761387-5.36931848-3.72017038-4.37215924-6.71164812 1.2272731-3.87357962 5.29261387-2.33948887 8.20738613-2.30113613 19.3678981 0.07670462 38.73579538 0.15340924 58.14204539 0.72869348 6.90340925 0.19176113 9.39630652-2.0710231 9.2428981-9.08948886-0.4602269-20.32670462-0.65198887-40.65340925-0.421875-60.98011386 0.07670462-7.1335231-2.76136387-9.01278424-9.47301114-9.05113614-65.31392038-0.30681848-130.66619348-0.76704538-195.98011386-1.53409076-7.74715924-0.11505652-9.47301113 2.68465925-9.43465924 9.81818152 0.30681848 32.484375 0.15340924 65.0071019 0.15340924 97.52982962m433.61079538 466.36363613l20.55681848 0.11505735c0.53693152 0.26846576 1.11221576 0.76704538 1.6875 0.76704538 37.43181848 0.26846576 74.90198887 0.421875 112.37215842 0.84375 6.25142038 0.07670462 7.09517038-3.06818152 7.05681848-8.16903424-0.30681848-23.77840924-0.23011387-47.48011387-0.69034076-71.18181849-0.26846576-14.65056848 1.11221576-29.30113613-0.92045462-43.875l-0.11505652-18.44744265c1.80255652-22.12926113 0.15340924-44.296875 0.53693152-66.42613697 0.11505652-5.5227269-3.14488613-6.7116481-7.86221575-6.71164726-21.24715925 0-42.49431848 0-63.74147773-0.38352312-5.9446019-0.11505652-7.5553981 2.41619348-7.44034077 7.82386387 0.26846576 16.22301113 0.23011387 32.484375 0.26846577 48.70738613v21.09375c-5.13920462-1.61079538-7.28693152-4.83238613-9.77982962-7.32528423-35.51420462-35.4758519-71.10511387-70.9133519-106.3508519-106.65767039-5.59943152-5.67613613-9.08948887-5.5227269-14.3821019 0-13.42329538 13.99857962-27.07670462 27.69034075-41.03693235 41.03693235-5.56107962 5.36931848-5.71448887 8.8210231-0.03835188 14.42045462 35.55255652 35.015625 70.75994348 70.37642038 105.96732961 105.73721577 2.68465925 2.68465925 6.51988613 4.71732962 7.32528342 9.28125-3.29829538 2.109375-6.7883519 1.15056848-10.04829538 1.15056765-19.40625 0-38.73579538-0.15340924-58.14204539-0.26846577-4.52556848 0-8.8210231-0.3835231-8.70596575 6.44318235 0.30681848 21.86079538 0.30681848 43.75994348 0.3835231 65.65909077 0 4.6022731 1.91761387 6.98011387 6.67329539 6.90340923 22.12926113-0.3835231 44.296875 1.265625 66.42613613-0.53693235M513.2272731 90.20170462c113.5227269 0 226.96875 0.11505652 340.453125-0.07670462 27.4602269-0.0383519 49.97301113 9.47301113 66.42613614 31.75568152 11.08380652 14.95738613 14.19034075 32.21590925 14.19034076 50.43323886-0.11505652 109.41903425-0.0383519 218.83806848-0.0383519 328.29545462 0 117.20454538-0.11505652 234.44744348 0.0767038 351.69034076 0.0383519 27.34517038-8.8977269 50.01136387-31.14204538 66.77130734-15.1875 11.50568152-32.59943152 14.765625-51.12357962 14.765625-127.8664769-0.07670462-255.73295462-0.0383519-383.59943152-0.03835272-98.79545462 0-197.59090924-0.15340924-296.38636386 0.07670462-27.72869348 0.07670462-50.6633519-9.12784076-67.34659077-31.83238613-11.0071019-14.95738613-14.19034075-32.13920462-14.15198885-50.43323887 0.11505652-141.59659076 0.07670462-283.23153424 0.07670462-424.8664769 0-85.33380652 0.11505652-170.66761387-0.07670462-256.0397731C90.5852269 143.28125 99.98153424 120.73011387 122.34090925 104.31534075c14.95738613-11.0071019 32.21590925-14.19034075 50.43323885-14.15198885 113.5227269 0.15340924 226.96875 0.07670462 340.453125 0.07670462" p-id="5518" data-v-669fca12></path></svg></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><a href="/my_blog/js/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></div><div class="nav-item"><a href="/my_blog/es6/" class="nav-link"><i class="iconfont undefined"></i>
  ES6
</a></div><div class="nav-item"><a href="/my_blog/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></div><div class="nav-item"><a href="/my_blog/react/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></div><div class="nav-item"><a href="/my_blog/ts/" class="nav-link router-link-exact-active router-link-active"><i class="iconfont undefined"></i>
  TypeScript
</a></div><div class="nav-item"><a href="/my_blog/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  Webpack
</a></div><div class="nav-item"><a href="/my_blog/link/" class="nav-link"><i class="iconfont undefined"></i>
  Link
</a></div> <a href="https://github.com/frontend-qin/my_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask" data-v-ad130a7c></div> <aside class="sidebar" data-v-ad130a7c><nav class="nav-links"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><a href="/my_blog/js/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></div><div class="nav-item"><a href="/my_blog/es6/" class="nav-link"><i class="iconfont undefined"></i>
  ES6
</a></div><div class="nav-item"><a href="/my_blog/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></div><div class="nav-item"><a href="/my_blog/react/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></div><div class="nav-item"><a href="/my_blog/ts/" class="nav-link router-link-exact-active router-link-active"><i class="iconfont undefined"></i>
  TypeScript
</a></div><div class="nav-item"><a href="/my_blog/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  Webpack
</a></div><div class="nav-item"><a href="/my_blog/link/" class="nav-link"><i class="iconfont undefined"></i>
  Link
</a></div> <a href="https://github.com/frontend-qin/my_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础语法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my_blog/ts/#_1-数据类型" class="sidebar-link">1.数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-1-布尔类型-boolean" class="sidebar-link">1.1 布尔类型(boolean)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-2-数字类型-number" class="sidebar-link">1.2 数字类型(number)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-3-字符串类型-string" class="sidebar-link">1.3 字符串类型(string)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-4-数组类型-array" class="sidebar-link">1.4 数组类型(array)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-5-元组类型" class="sidebar-link">1.5 元组类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-6-枚举类型" class="sidebar-link">1.6 枚举类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-6-1-普通枚举" class="sidebar-link">👉 1.6-1 普通枚举</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-6-2-常数枚举" class="sidebar-link">👉 1.6-2 常数枚举</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-7-任意类型-any" class="sidebar-link">1.7 任意类型(any)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-8-非空断言" class="sidebar-link">1.8 非空断言</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-9-null-和-undefind" class="sidebar-link">1.9 null 和 undefind</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-10-void-类型" class="sidebar-link">1.10 void 类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-11-never-类型-开发中基本不会用到" class="sidebar-link">1.11 never 类型(开发中基本不会用到)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-12-never-和-void-的区别" class="sidebar-link">1.12 never 和 void 的区别</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-13-类型推论" class="sidebar-link">1.13 类型推论</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-14-包装对象（wrapper-object）" class="sidebar-link">1.14 包装对象（Wrapper Object）</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-15-类型断言" class="sidebar-link">1.15 类型断言</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-16-字面量类型" class="sidebar-link">1.16 字面量类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-17-字符串字面量-vs-联合类型" class="sidebar-link">1.17 字符串字面量 vs 联合类型</a></li></ul></li><li><a href="/my_blog/ts/#_2-函数" class="sidebar-link">2.函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-1-函数定义-声明" class="sidebar-link">2.1 函数定义(声明)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-2-函数表达式" class="sidebar-link">2.2 函数表达式</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-3-没有返回值" class="sidebar-link">2.3 没有返回值</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-4-可选参数" class="sidebar-link">2.4 可选参数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-5-默认参数" class="sidebar-link">2.5 默认参数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-6-剩余参数" class="sidebar-link">2.6 剩余参数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_2-7-函数重载" class="sidebar-link">2.7 函数重载</a></li></ul></li><li><a href="/my_blog/ts/#_3-类" class="sidebar-link">3.类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-1-类的定义" class="sidebar-link">3.1 类的定义</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-2-类的存取器" class="sidebar-link">3.2 类的存取器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-3-参数修饰符-参数属性" class="sidebar-link">3.3 参数修饰符(参数属性)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-4-readonly" class="sidebar-link">3.4 readonly</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-5-类的继承" class="sidebar-link">3.5 类的继承</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-6-类里面的修饰符" class="sidebar-link">3.6 类里面的修饰符</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-7-类的静态-属性和方法" class="sidebar-link">3.7 类的静态(属性和方法)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-装饰器" class="sidebar-link">3.8 装饰器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-1-类装饰器" class="sidebar-link">👉3.8.1 类装饰器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-1-类装饰器传参" class="sidebar-link">👉👉 1.1 类装饰器传参</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_1-2-类装饰器返回类" class="sidebar-link">👉👉 1.2 类装饰器返回类</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-2-属性装饰器" class="sidebar-link">👉3.8.2 属性装饰器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-3-方法装饰器" class="sidebar-link">👉3.8.3 方法装饰器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-4-参数装饰器" class="sidebar-link">👉3.8.4 参数装饰器</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-8-5-装饰器执行顺序" class="sidebar-link">👉3.8.5 装饰器执行顺序</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-9-抽象类" class="sidebar-link">3.9 抽象类</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-10-抽象方法" class="sidebar-link">3.10 抽象方法</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-11-抽象类-vs-接口" class="sidebar-link">3.11 抽象类 VS 接口</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-12-重写-override-和重载-overload" class="sidebar-link">3.12 重写(override)和重载(overload)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_3-13-继承-vs-多态" class="sidebar-link">3.13 继承 VS 多态</a></li></ul></li><li><a href="/my_blog/ts/#_4-接口" class="sidebar-link">4. 接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-1-描述对象" class="sidebar-link">4.1 描述对象</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-2-描述行为的抽象" class="sidebar-link">4.2 描述行为的抽象</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-3-对象中的任意的属性" class="sidebar-link">4.3 对象中的任意的属性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-4-接口的继承" class="sidebar-link">4.4 接口的继承</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-5-接口中-readonly" class="sidebar-link">4.5 接口中 readonly</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-6-接口描述函数类型" class="sidebar-link">4.6 接口描述函数类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-7-可索引接口" class="sidebar-link">4.7 可索引接口</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-8-类接口" class="sidebar-link">4.8 类接口</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-9-构造函数的类型" class="sidebar-link">4.9 构造函数的类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_4-10-接口描述函数参数" class="sidebar-link">4.10 接口描述函数参数</a></li></ul></li><li><a href="/my_blog/ts/#_5-泛型" class="sidebar-link">5. 泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-1-泛型函数" class="sidebar-link">5.1 泛型函数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-2-类数组" class="sidebar-link">5.2 类数组</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-3-泛型类" class="sidebar-link">5.3 泛型类</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-4-泛型接口" class="sidebar-link">5.4 泛型接口</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-5-多个类型参数" class="sidebar-link">5.5 多个类型参数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-6-默认泛型类型" class="sidebar-link">5.6 默认泛型类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-7-泛型约束" class="sidebar-link">5.7 泛型约束</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-8-泛型接口" class="sidebar-link">5.8 泛型接口</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-9-泛型类型别名" class="sidebar-link">5.9 泛型类型别名</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_5-10-泛型接口-vs-泛型类型别名" class="sidebar-link">5.10 泛型接口 vs 泛型类型别名</a></li></ul></li><li><a href="/my_blog/ts/#_6-结构类型的兼容" class="sidebar-link">6. 结构类型的兼容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-1-接口的兼容性" class="sidebar-link">6.1 接口的兼容性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-2-基本类型兼容性" class="sidebar-link">6.2 基本类型兼容性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-3-类的兼容性" class="sidebar-link">6.3 类的兼容性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-4-函数兼容性" class="sidebar-link">6.4 函数兼容性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-4-1-比较参数" class="sidebar-link">👉6.4.1 比较参数</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-4-2-比较返回值" class="sidebar-link">👉6.4.2 比较返回值</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-5-函数参数协变" class="sidebar-link">6.5 函数参数协变</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-6-泛型的兼容性" class="sidebar-link">6.6 泛型的兼容性</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_6-7-枚举的兼容性" class="sidebar-link">6.7 枚举的兼容性</a></li></ul></li><li><a href="/my_blog/ts/#_7-类型保护" class="sidebar-link">7. 类型保护</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_7-1-typeof-类型保护" class="sidebar-link">7.1 typeof 类型保护</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_7-2-instanceof-类型保护" class="sidebar-link">7.2 instanceof 类型保护</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_7-3-null-类型保护" class="sidebar-link">7.3 null 类型保护</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_7-4-可辨识的联合类型" class="sidebar-link">7.4 可辨识的联合类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_7-5-in-操作符" class="sidebar-link">7.5 in 操作符</a></li></ul></li><li><a href="/my_blog/ts/#_8-类型变换" class="sidebar-link">8. 类型变换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-1-交叉类型" class="sidebar-link">8.1 交叉类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-2-typeof" class="sidebar-link">8.2 typeof</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-3-索引访问操作符" class="sidebar-link">8.3 索引访问操作符</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-4-keyof-类型查询" class="sidebar-link">8.4 keyof 类型查询</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-5-in-操作符进行映射类型" class="sidebar-link">8.5 in 操作符进行映射类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-6-内置类型工具" class="sidebar-link">8.6 内置类型工具</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-7-extends-条件类型" class="sidebar-link">8.7 extends 条件类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-内置条件类型" class="sidebar-link">8.8 内置条件类型</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-1-exclude-排除掉" class="sidebar-link">👉8.8.1 Exclude(排除掉)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-2-extract-提取" class="sidebar-link">👉8.8.2 Extract(提取)</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-3-nonnullable" class="sidebar-link">👉8.8.3 NonNullable</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-4-returntype" class="sidebar-link">👉8.8.4 ReturnType</a></li><li class="sidebar-sub-header"><a href="/my_blog/ts/#_8-8-4-instancetype-实例类型" class="sidebar-link">👉8.8.4 InstanceType 实例类型</a></li></ul></li><li><a href="/my_blog/ts/#_9-模块-vs-命名空间" class="sidebar-link">9. 模块 VS 命名空间</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my_blog/ts/#_10-啥时间使用-type-和-interface" class="sidebar-link">10. 啥时间使用 type 和 interface</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-262b1d1e data-v-ad130a7c><h3 class="title" data-v-262b1d1e></h3> <!----> <label id="box" class="inputBox" data-v-262b1d1e><input type="password" value="" data-v-262b1d1e> <span data-v-262b1d1e>Konck! Knock!</span> <button data-v-262b1d1e>OK</button></label> <div class="footer" data-v-262b1d1e><span data-v-262b1d1e><i class="iconfont reco-theme" data-v-262b1d1e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-262b1d1e>vuePress-theme-reco</a></span> <span data-v-262b1d1e><i class="iconfont reco-other" data-v-262b1d1e></i> <a data-v-262b1d1e>laoqin</a></span> <span data-v-262b1d1e><i class="iconfont reco-copyright" data-v-262b1d1e></i> <a data-v-262b1d1e>2019</a></span></div></div> <div data-v-ad130a7c><main class="page reco-hide"> <div class="page-title"><h1>基础语法</h1> <hr> <div data-v-7b49930f><i class="iconfont reco-account" data-v-7b49930f><span data-v-7b49930f>laoqin</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="基础语法"><a href="#基础语法" class="header-anchor">#</a> 基础语法</h1> <h2 id="_1-数据类型"><a href="#_1-数据类型" class="header-anchor">#</a> 1.数据类型</h2> <h3 id="_1-1-布尔类型-boolean"><a href="#_1-1-布尔类型-boolean" class="header-anchor">#</a> 1.1 布尔类型(boolean)</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> meried<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-2-数字类型-number"><a href="#_1-2-数字类型-number" class="header-anchor">#</a> 1.2 数字类型(number)</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> age<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">40</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-3-字符串类型-string"><a href="#_1-3-字符串类型-string" class="header-anchor">#</a> 1.3 字符串类型(string)</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> nameUser<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'laoqin'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-4-数组类型-array"><a href="#_1-4-数组类型-array" class="header-anchor">#</a> 1.4 数组类型(array)</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr1<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'wold'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1-5-元组类型"><a href="#_1-5-元组类型" class="header-anchor">#</a> 1.5 元组类型</h3> <div class="custom-block warning"><p>在 TypeScript 的基础类型中，元组（ Tuple ）表示一个已知 <code>数量</code>和 <code>类型</code> 的数组</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> example<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>
example<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
example<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th style="text-align:left;">元组</th> <th style="text-align:center;">数组</th></tr></thead> <tbody><tr><td style="text-align:left;">每一项都可以是不同的类型</td> <td style="text-align:center;">每一项都是同一种类型</td></tr> <tr><td style="text-align:left;">有预定义的长度</td> <td style="text-align:center;">没有长度限制</td></tr> <tr><td style="text-align:left;">用于表示一个固定的解构</td> <td style="text-align:center;">用于表示一个列表</td></tr></tbody></table> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> animal<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">,</span> boolean<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-6-枚举类型"><a href="#_1-6-枚举类型" class="header-anchor">#</a> 1.6 枚举类型</h3> <div class="custom-block warning"><ul><li>事先考虑某一个变量的所有可能的值, 尽量用字眼语言中的单词表示它的每一个值</li> <li>比如性别, 月份, 星期, 颜色, 单位, 学历</li></ul></div> <h3 id="_1-6-1-普通枚举"><a href="#_1-6-1-普通枚举" class="header-anchor">#</a> 👉 1.6-1 普通枚举</h3> <p><code>普通枚举</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 可以直接赋值的写法</span>
<span class="token keyword">enum</span> Gender <span class="token punctuation">{</span>
    man <span class="token operator">=</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    woman <span class="token operator">=</span> <span class="token string">&quot;女&quot;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Gender<span class="token punctuation">.</span>man<span class="token punctuation">)</span>
<span class="token comment">// 第二种通过索引拿到值</span>
<span class="token keyword">enum</span> Gender2 <span class="token punctuation">{</span>
    <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;女&quot;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Gender2<span class="token punctuation">[</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_1-6-2-常数枚举"><a href="#_1-6-2-常数枚举" class="header-anchor">#</a> 👉 1.6-2 常数枚举</h3> <p><code>常数枚举</code></p> <div class="custom-block warning"><ul><li>常数枚举与普通枚举的区别是, 它会在编译阶段被删除, 并且不能包含计算成员</li> <li>假如包含了计算成员, 则会在编译阶段报错</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Colors<span class="token punctuation">{</span>
    Red<span class="token punctuation">,</span>
    Yellow
<span class="token punctuation">}</span>
<span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token punctuation">[</span>Colors<span class="token punctuation">.</span>Red<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_1-7-任意类型-any"><a href="#_1-7-任意类型-any" class="header-anchor">#</a> 1.7 任意类型(any)</h3> <div class="custom-block tip"><p class="custom-block-title">何时使用?</p> <ul><li><code>any</code> 就是可以赋值给任意数据类型</li> <li>第三方库没有提供类型文件时可以使用 any</li> <li>类型转换遇到困难时</li> <li>数据结构太复杂难以定义</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> dom<span class="token punctuation">:</span> any <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-8-非空断言"><a href="#_1-8-非空断言" class="header-anchor">#</a> 1.8 非空断言</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> dom<span class="token punctuation">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span>
dom<span class="token operator">!</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1-9-null-和-undefind"><a href="#_1-9-null-和-undefind" class="header-anchor">#</a> 1.9 null 和 undefind</h3> <div class="custom-block tip"><ul><li>null 和 undefind 是其它类型的子类型时, 可以赋值给其它类型,如数字类型,此时, 赋值后的类型会变成 null 和 undefind</li> <li>配置文件中<code>strictNullChecks</code> 参数用于新的严格空检查模式,在严格空检查模式下</li> <li>null 和 undefined 值都不属于任何一个类型，它们只能赋值给自己这种类型或者 any</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> x<span class="token punctuation">:</span> number
x <span class="token operator">=</span> <span class="token number">1</span>
x <span class="token operator">=</span> <span class="token keyword">undefined</span>
x <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token keyword">let</span> y<span class="token punctuation">:</span> number <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
y <span class="token operator">=</span> <span class="token number">1</span>
y <span class="token operator">=</span> <span class="token keyword">undefined</span>
y <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_1-10-void-类型"><a href="#_1-10-void-类型" class="header-anchor">#</a> 1.10 void 类型</h3> <div class="custom-block tip"><p class="custom-block-title">void 类型</p> <ul><li>void 表示没有任何类型</li> <li>当一个函数没有返回值时, ts 会认为它的返回值是 void 类型</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
  <span class="token comment">//当我们声明一个变量类型是 void 的时候，</span>
  <span class="token comment">//它的非严格模式(strictNullChecks:false)下仅可以被赋值为 null 和 undefined</span>
  <span class="token comment">//严格模式(strictNullChecks:true)下只能返回undefined</span>
  <span class="token comment">//return null;</span>
  <span class="token comment">//return undefined;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_1-11-never-类型-开发中基本不会用到"><a href="#_1-11-never-类型-开发中基本不会用到" class="header-anchor">#</a> 1.11 never 类型(开发中基本不会用到)</h3> <p><code>never是其它类型(null undefined)的子类型，代表不会出现的值</code></p> <ul><li>作为不会返回（ return ）的函数的返回值类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span>
<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token comment">// 由类型推论得到返回值为 never</span>
<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Something failed'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span>
<span class="token keyword">function</span> <span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_1-12-never-和-void-的区别"><a href="#_1-12-never-和-void-的区别" class="header-anchor">#</a> 1.12 never 和 void 的区别</h3> <div class="custom-block warning"><ul><li>void 可以被赋值为 null 和 undefined 的类型。 never 则是一个不包含值的类型。</li> <li>拥有 void 返回值类型的函数能正常运行。拥有 never 返回值类型的函数无法正常返回，无法终止，或会抛出异常。</li></ul></div> <h3 id="_1-13-类型推论"><a href="#_1-13-类型推论" class="header-anchor">#</a> 1.13 类型推论</h3> <div class="custom-block tip"><ul><li>是指编程语言中能够自动推导出值的类型的能力，它是一些强静态类型语言中出现的特性</li> <li>定义时未赋值就会推论成 any 类型</li> <li>如果定义的时候就赋值就能利用到类型推论</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> username2
username2 <span class="token operator">=</span> <span class="token number">10</span>
username2 <span class="token operator">=</span> <span class="token string">'zhufeng'</span>
username2 <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-14-包装对象（wrapper-object）"><a href="#_1-14-包装对象（wrapper-object）" class="header-anchor">#</a> 1.14 包装对象（Wrapper Object）</h3> <div class="custom-block tip"><ul><li>JavaScript 的类型分为两种：原始数据类型（Primitive data types）和对象类型(Object types)。</li> <li>所有的原始数据类型都没有属性（property）</li> <li>原始数据类型(布尔值, 数值, 字符串, null, undefined, Symbol)</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'zhufeng'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'zhufeng'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>当调用基本数据类型方法的时候，JavaScript 会在原始数据类型和对象类型之间做一个迅速的强制性切换</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> isOK<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> isOK<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> isOK<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 编译失败   期望的 isOK 是一个原始数据类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_1-15-类型断言"><a href="#_1-15-类型断言" class="header-anchor">#</a> 1.15 类型断言</h3> <ul><li>类型断言可以将一个联合类型的变量，指定为一个更加具体的类型</li> <li>不能将联合类型断言为不存在的类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> name<span class="token punctuation">:</span> string <span class="token operator">|</span> number<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name <span class="token keyword">as</span> number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name <span class="token keyword">as</span> boolean<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-16-字面量类型"><a href="#_1-16-字面量类型" class="header-anchor">#</a> 1.16 字面量类型</h3> <ul><li>可以把字符串、数字、布尔值字面量组成一个联合类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>type ZType <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token string">'One'</span> <span class="token operator">|</span> <span class="token boolean">true</span>
<span class="token keyword">let</span> t1<span class="token punctuation">:</span> ZType <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> t2<span class="token punctuation">:</span> ZType <span class="token operator">=</span> <span class="token string">'One'</span>
<span class="token keyword">let</span> t3<span class="token punctuation">:</span> ZType <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-17-字符串字面量-vs-联合类型"><a href="#_1-17-字符串字面量-vs-联合类型" class="header-anchor">#</a> 1.17 字符串字面量 vs 联合类型</h3> <div class="custom-block tip"><ul><li>字符串字面量类型用来约束取值只能是某几个字符串中的一个, 联合类型（Union Types）表示取值可以为多种类型中的一种</li> <li>字符串字面量 限定了使用该字面量的地方仅接受特定的值,联合类型 对于值并没有限定，仅仅限定值的类型需要保持一致</li></ul></div> <h2 id="_2-函数"><a href="#_2-函数" class="header-anchor">#</a> 2.函数</h2> <h3 id="_2-1-函数定义-声明"><a href="#_2-1-函数定义-声明" class="header-anchor">#</a> 2.1 函数定义(声明)</h3> <ul><li>指定参数的类型 和 返回值的类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mess</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">mess</span><span class="token punctuation">(</span><span class="token string">'laowang'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-2-函数表达式"><a href="#_2-2-函数表达式" class="header-anchor">#</a> 2.2 函数表达式</h3> <ul><li>使用 <code>type</code> 定义类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>type <span class="token function-variable function">funType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> string<span class="token punctuation">,</span> y<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> string
<span class="token keyword">let</span> s<span class="token punctuation">:</span> <span class="token function-variable function">funType</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-3-没有返回值"><a href="#_2-3-没有返回值" class="header-anchor">#</a> 2.3 没有返回值</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">nomess</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
<span class="token function">nomess</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-4-可选参数"><a href="#_2-4-可选参数" class="header-anchor">#</a> 2.4 可选参数</h3> <ul><li>在 TS 中函数的形参和实参必须一样，不一样就要配置可选参数,而且必须是最后一个参数</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> age<span class="token operator">?</span><span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'qin'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-5-默认参数"><a href="#_2-5-默认参数" class="header-anchor">#</a> 2.5 默认参数</h3> <ul><li>给参数一个默认值</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> string<span class="token punctuation">,</span> method<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'GET'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> method<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-6-剩余参数"><a href="#_2-6-剩余参数" class="header-anchor">#</a> 2.6 剩余参数</h3> <ul><li>函数中余下的参数可以进行一次性取值</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 示例代码1</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>val <span class="token operator">+=</span> item<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 示例代码2</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-7-函数重载"><a href="#_2-7-函数重载" class="header-anchor">#</a> 2.7 函数重载</h3> <ul><li>在 TypeScript 中，表现为给同一个函数提供多个函数类型定义</li></ul> <p>如下,该函数只能传入 string 或者 number 类型的参数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token keyword">function</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a<span class="token punctuation">,</span> b
  val <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> val<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> val<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">attr</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-类"><a href="#_3-类" class="header-anchor">#</a> 3.类</h2> <h3 id="_3-1-类的定义"><a href="#_3-1-类的定义" class="header-anchor">#</a> 3.1 类的定义</h3> <ul><li>&quot;strictPropertyInitialization&quot;: true / 启用类属性初始化的严格检查/</li> <li>name!:string
定义一个简单类</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'章梓'</span>
p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 章梓</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-2-类的存取器"><a href="#_3-2-类的存取器" class="header-anchor">#</a> 3.2 类的存取器</h3> <div class="custom-block tip"><ul><li><p>在 TypeScript 中，我们可以通过存取器来改变一个类中属性的读取和赋值行为</p></li> <li><p>构造函数</p> <ul><li>主要用于初始化类的成员变量属性</li> <li>类的对象创建时自动调用执行</li> <li>没有返回值</li></ul></li></ul></div> <blockquote><p>下面代码中的 get 和 set 后边的名字定义成什么无所谓</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  stuName<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stuName <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stuName
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stuName <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'章子'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">// Person { stuName: '章子' }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-3-参数修饰符-参数属性"><a href="#_3-3-参数修饰符-参数属性" class="header-anchor">#</a> 3.3 参数修饰符(参数属性)</h3> <ul><li>constructor 构造函数 public 修饰的参数, 可以省略赋值</li> <li><code>public</code>, <code>protected</code>, <code>readonly</code>, <code>private</code> ,即可以修饰参数,也可以修饰自己的属性</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> myname<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myname <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'核子'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'原子'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-4-readonly"><a href="#_3-4-readonly" class="header-anchor">#</a> 3.4 readonly</h3> <div class="custom-block tip"><ul><li>readonly 修饰的变量只能在构造函数中初始化</li> <li>在 TypeScript 中，const 是常量标志符，其值不能被重新分配</li> <li>TypeScript 的类型系统同样也允许将 interface、type、 class 上的属性标识为 readonly</li> <li>readonly 实际上只是在编译阶段进行代码检查。</li> <li>而 const 则会在运行时检查（在支持 const 语法的 JavaScript 运行时环境中）</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> readonly name<span class="token punctuation">:</span> string
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span>string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 这里会报错提示 该属性是 只读的</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_3-5-类的继承"><a href="#_3-5-类的继承" class="header-anchor">#</a> 3.5 类的继承</h3> <div class="custom-block warning"><ul><li>子类继承父类后子类的实例就拥有了父类中的属性和方法，可以增强代码的可复用性</li> <li>将子类公用的方法抽象出来放在父类中，自己的特殊逻辑放在子类中重写父类的逻辑</li> <li>super 可以调用父类上的方法和属性</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个描述人的类 有姓名, 年龄</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token function">setName</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> val
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个学生类继承 Person 类</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  No<span class="token punctuation">:</span> number <span class="token comment">// 学号</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> age<span class="token punctuation">:</span> number<span class="token punctuation">,</span> No<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// 继承父类的名字,年纪</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>No <span class="token operator">=</span> No <span class="token comment">// 自己的学号</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 子类自己的方法</span>
  <span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>No
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">215</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_3-6-类里面的修饰符"><a href="#_3-6-类里面的修饰符" class="header-anchor">#</a> 3.6 类里面的修饰符</h3> <p>主要用来描述修饰自身的属性</p> <ul><li><code>public</code>, <code>protected</code>, <code>readonly</code>, <code>private</code> 修饰自己的属性</li></ul> <div class="custom-block tip"><ul><li><code>public</code>: 类里面 子类 其它任何地方外边都可以访问</li> <li><code>protected</code>: 类里面 子类 都可以访问,其它任何地方不能访问</li> <li><code>readonly</code>: 属性只能自己读取</li> <li><code>private</code>: 类里面可以访问， 子类和其它任何地方都不可以访问</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>  <span class="token comment">//类里面 子类 其它任何地方外边都可以访问</span>
    <span class="token keyword">protected</span> age<span class="token punctuation">:</span> number<span class="token punctuation">;</span> <span class="token comment">//类里面 子类 都可以访问,其它任何地方不能访问</span>
    <span class="token keyword">private</span> money<span class="token punctuation">:</span> number<span class="token punctuation">;</span> <span class="token comment">//类里面可以访问， 子类和其它任何地方都不可以访问</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span>string<span class="token punctuation">,</span>age<span class="token punctuation">:</span>number<span class="token punctuation">,</span>money<span class="token punctuation">:</span>number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//构造函数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token operator">=</span>money<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>string <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span>string<span class="token punctuation">,</span>age<span class="token punctuation">:</span>number<span class="token punctuation">,</span>money<span class="token punctuation">:</span>number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'河马'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="_3-7-类的静态-属性和方法"><a href="#_3-7-类的静态-属性和方法" class="header-anchor">#</a> 3.7 类的静态(属性和方法)</h3> <ul><li>(属性和方法)只能使用类名 调用</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> className <span class="token operator">=</span> <span class="token string">'Father'</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Father<span class="token punctuation">.</span>className<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token punctuation">:</span>string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Father<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Father<span class="token punctuation">.</span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-8-装饰器"><a href="#_3-8-装饰器" class="header-anchor">#</a> 3.8 装饰器</h3> <div class="custom-block tip"><ul><li>装饰器是一种特殊类型的声明，它能够被附加到类声明、方法、属性或参数上，可以修改类的行为</li> <li>常见的装饰器: <code>类装饰器</code>、<code>属性装饰器</code>、<code>方法装饰器</code>和<code>参数装饰器</code></li> <li>装饰器的写法: <code>普通装饰器</code> 和 <code>装饰器工厂</code></li> <li>装饰器的语法: <code>@函数名</code> || <code>@函数名(传参)</code></li></ul></div> <hr> <h3 id="_3-8-1-类装饰器"><a href="#_3-8-1-类装饰器" class="header-anchor">#</a> 👉3.8.1 类装饰器</h3> <hr> <ul><li><p>类装饰器在类声明之前声明, 用来监视, 修改和替换类定义</p></li> <li><p>如果你再装饰器函数中,扩展了当前类的属性和方法</p></li> <li><p>在调用时, 就必须要提供一个和类名一样的接口名,来约束你的扩展</p> <p><code>第一个参数是target(指向下边定义的类)</code></p></li></ul> <div class="custom-block tip"><ul><li>下边的这个方法,提供了一个<code>类装饰器person函数</code>,扩展了<code>name属性</code>和 <code>eat 方法</code>,</li> <li>提供了一个和类名字一样的接口名字(必须一样,否则报错)</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace q <span class="token punctuation">{</span>
  <span class="token comment">// 定义一个和类名字一样的接口名字, 来约束装饰器中的扩展</span>
  <span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
    <span class="token function-variable function">eat</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token punctuation">}</span>
    <span class="token comment">//   装饰器对应的函数</span>
  <span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
    target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;eat&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 类装饰器在类声明之前声明，用来监视、修改或替换类定义</span>
  @person
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//  如果不提供装饰器, 以下的调用就会报错</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// hello</span>
  p<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// eat</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><hr> <h3 id="_1-1-类装饰器传参"><a href="#_1-1-类装饰器传参" class="header-anchor">#</a> 👉👉 1.1 类装饰器传参</h3> <hr> <ul><li>类装饰器要<code>传参</code>, 装饰器函数必须返回一个高阶函数</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace q <span class="token punctuation">{</span>
  type <span class="token function-variable function">eatFun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
    eat<span class="token punctuation">:</span> eatFun
  <span class="token punctuation">}</span>
  <span class="token comment">// 如果装饰器传参数, 必须使用高阶函数</span>
  <span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> name
      target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;eat&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 类装饰器在类声明之前声明，用来监视、修改或替换类定义</span>
  @<span class="token function">person</span><span class="token punctuation">(</span><span class="token string">&quot;老王&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 老王</span>
  p<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><hr> <h3 id="_1-2-类装饰器返回类"><a href="#_1-2-类装饰器返回类" class="header-anchor">#</a> 👉👉 1.2 类装饰器返回类</h3> <hr> <ul><li><ol><li>类装饰器中 装饰器函数也可以返回一个新的<code>匿名类</code>覆盖原来的类</li></ol></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace q <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
    <span class="token function-variable function">eat</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 也可以返回一个新类</span>
  <span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">&quot;我是&quot;</span>
      <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;eat苹果&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 类装饰器在类声明之前声明，用来监视、修改或替换类定义</span>
  @person
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 我是</span>
  p<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//eat苹果</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li><ol start="2"><li>返回的新类中必须要有原来类中的属性名 和 方法名, 等于就是重写原有类的方法和属性,否则编译报错</li></ol></li></ul> <p>下边返回的新类,重写了类中的属性和方法,注释掉<code>@person</code>会报错</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  <span class="token function-variable function">eat</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'hello'</span>
    name1<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'重写的'</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat重写原有类的eat1方法'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
@person
<span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name1<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'people'</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">eat1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">eat1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name1<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><hr> <h3 id="_3-8-2-属性装饰器"><a href="#_3-8-2-属性装饰器" class="header-anchor">#</a> 👉3.8.2 属性装饰器</h3> <hr> <div class="custom-block tip"><p class="custom-block-title">属性装饰器</p> <ul><li>属性装饰器表达式会在运行时当作函数被调用，传入下列 2 个参数(target, prototypeName)</li> <li>属性装饰器用来装饰属性
<ul><li>第一个参数对于静态成员来说是类的构造函数，对于实例成员是类的原型对象</li> <li>第二个参数是属性的名称</li></ul></li> <li>对于要修改的属性, 必须使用 <code>Object.defineProperty()</code>,进行重写对象的 get 和 set 方法,不允许直接返回修改的值,</li> <li>否则会报错:
<ul><li><code>属性修饰器函数的返回类型必须为 &quot;void&quot; 或 &quot;any&quot;。 作为表达式调用时，无法解析属性修饰器的签名</code></li> <li><code>The return type of a property decorator function must be either 'void' or 'any'.</code></li></ul></li></ul></div> <img src="/my_blog/ts_key.jpg"> <ul><li><code>属性装饰器</code> 也是一个函数, 写在属性上边 格式为 @函数名</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 属性装饰器</span>
namespace a <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">upcaseName</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> protoKey<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>protoKey<span class="token punctuation">]</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> protoKey<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">set</span><span class="token punctuation">(</span>newval<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> newval<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    @upcaseName <span class="token comment">// 此装饰器作用让 name 属性大写</span>
    name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">&quot;爱罗&quot;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> age <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 静态属性,通过类调用</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_3-8-3-方法装饰器"><a href="#_3-8-3-方法装饰器" class="header-anchor">#</a> 👉3.8.3 方法装饰器</h3> <ul><li>方法装饰器:也是一个函数, 写在方法的上边,格式为 @函数名, 它有 3 个参数</li></ul> <hr> <div class="custom-block tip"><p class="custom-block-title">方法装饰器</p> <ul><li>方法装饰器用来装饰方法
<ul><li>第一个参数对于静态成员来说是类的构造函数，对于实例成员是类的原型对象</li> <li>第二个参数是<code>方法的名称</code></li> <li>第三个参数是<code>方法描述符</code>(类型是<code>PropertyDescriptor</code>)</li></ul></li> <li>用法:
<ul><li><ol><li>如果原来的方法是有返回值的, 方法装饰器可以通过第三个参数的<code>value</code>方法,可以拿到原类中的方法的返回值</li></ol></li> <li><ol start="2"><li>然后重写<code>第三个参数的value</code>方法, return 你的返回值, 就可以重写原先类中的方法</li></ol></li></ul></li></ul> <img src="/my_blog/ts_method.jpg"> <ul><li><ol start="3"><li>如果是没有返回值, 就是使用<code>第三个参数的value</code>重写一下这个方法</li></ol></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 类的装饰器方法</span>
<span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> methodName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> desc<span class="token punctuation">:</span> PropertyDescriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldValue <span class="token operator">=</span> desc<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 这个可以拿到值 `李四`</span>
  <span class="token comment">//   return oldValue + ',hello world' // 不能直接在这里return 否则,装饰器报错</span>
  desc<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> oldValue <span class="token operator">+</span> <span class="token string">',hello world'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">People1</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  @changeName
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// undefined,hello world</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace a <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 方法装饰器函数
   * @param target 被装饰的类
   * @param methodName 被装饰的类中的方法的名字
   * @param descriptor 被装饰的类中的方法描述符
   */</span>
  <span class="token keyword">function</span> <span class="token function">toNumber</span><span class="token punctuation">(</span>
    <span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span>
    methodName<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
    descriptor<span class="token punctuation">:</span> PropertyDescriptor</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> oldMethod <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
    descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      args <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">+</span>item<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token function">oldMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    @toNumber <span class="token comment">// 装饰器的作用: 不管你传入什么字符串,都让它变成数字</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accu<span class="token punctuation">:</span> number<span class="token punctuation">,</span> item<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> accu <span class="token operator">+</span> item<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//5</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_3-8-4-参数装饰器"><a href="#_3-8-4-参数装饰器" class="header-anchor">#</a> 👉3.8.4 参数装饰器</h3> <div class="custom-block tip"><ul><li>会在运行时当作函数被调用，可以使用参数装饰器为类的原型增加一些元数据</li> <li>第 1 个参数对于静态成员是类的构造函数，对于实例成员是类的原型对象</li> <li>第 2 个参数的是方法的名字</li> <li>第 3 个参数是该参数在函数的参数列表中的索引</li></ul></div> <ul><li><code>如果是新定义的属性, 必须提供一个接口来定义数据类型</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace a <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> number
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">addAge</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> paramsName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> index<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token comment">// Person{}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>paramsName<span class="token punctuation">)</span> <span class="token comment">// login</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">// 1</span>
    target<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">//@addAge 添加一个新的 age 参数</span>
    <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> @addAge password<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 20</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  p<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;laoli&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3-8-5-装饰器执行顺序"><a href="#_3-8-5-装饰器执行顺序" class="header-anchor">#</a> 👉3.8.5 装饰器执行顺序</h3> <div class="custom-block tip"><p class="custom-block-title">执行顺序</p> <p>先属性装饰器 👉 方法中的参数装饰器 👉 方法装饰器 👉 类的装饰器</p> <hr> <ul><li>有多个参数装饰器时：从最后一个参数依次向前执行</li> <li>方法和方法参数中参数装饰器先执行。</li> <li>类装饰器总是最后执行</li> <li>方法和属性装饰器，谁在前面谁先执行。因为参数属于方法一部分，所以参数会一直紧紧挨着方法执行</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace e <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Class1Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;类1装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">Class2Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;类2装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">MethodDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> methodName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> descriptor<span class="token punctuation">:</span> PropertyDescriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;方法装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">Param1Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> methodName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> paramIndex<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;参数1装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">Param2Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> methodName<span class="token punctuation">:</span> string<span class="token punctuation">,</span> paramIndex<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;参数2装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">PropertyDecorator</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> propertyName<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;属性装饰器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    @<span class="token function">Class1Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    @<span class="token function">Class2Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        @<span class="token function">PropertyDecorator</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
        name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'zhufeng'</span><span class="token punctuation">;</span>
        @<span class="token function">PropertyDecorator</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span>
        age<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        @<span class="token function">MethodDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">@<span class="token function">Param1Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> p1<span class="token punctuation">:</span> string<span class="token punctuation">,</span> @<span class="token function">Param2Decorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> p2<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
name属性装饰器
age属性装饰器
参数2装饰器
参数1装饰器
方法装饰器
类2装饰器
类1装饰器
 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><h3 id="_3-9-抽象类"><a href="#_3-9-抽象类" class="header-anchor">#</a> 3.9 抽象类</h3> <div class="custom-block tip"><p class="custom-block-title">抽象类定义</p> <ul><li>描述一种抽象的概念, 无法被实例化, 只能被继承</li> <li>无法创建抽象类的实例</li> <li>抽象方法不能再抽象类中实现, 只能在抽象类的具体子类中实现, 而且是必须实现</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">!</span><span class="token punctuation">:</span> string
  abstract <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">&quot;小花&quot;</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;....瞄....&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 报错, 无法创建实例</span>
<span class="token comment">// let a = new Animal()</span>

<span class="token comment">// 抽象类必须被子类实现, 子类要重写实现继承的抽象类的方法</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">//小花</span>
c<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 小花....瞄....</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><table><thead><tr><th>访问控制修饰符</th> <th style="text-align:center;">private, protected, public 可以修饰以下属性</th></tr></thead> <tbody><tr><td>只读属性</td> <td style="text-align:center;">readonly</td></tr> <tr><td>静态属性</td> <td style="text-align:center;">static</td></tr> <tr><td>抽象类、抽象方法</td> <td style="text-align:center;">abstract</td></tr></tbody></table> <h3 id="_3-10-抽象方法"><a href="#_3-10-抽象方法" class="header-anchor">#</a> 3.10 抽象方法</h3> <div class="custom-block tip"><p class="custom-block-title">说明</p> <ul><li>抽象类和方法不包含具体实现，必须在子类中实现</li> <li>抽象方法只能出现在抽象类中</li> <li>子类可以对抽象类进行不同的实现</li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 抽象类</span>
abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    abstract <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 子类实现抽象类的方法</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span>  <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小狗汪汪汪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span>  <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小猫喵喵喵'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小狗汪汪汪</span>
cat<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//小猫喵喵喵</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_3-11-抽象类-vs-接口"><a href="#_3-11-抽象类-vs-接口" class="header-anchor">#</a> 3.11 抽象类 VS 接口</h3> <div class="custom-block tip"><p class="custom-block-title">对比</p> <ul><li>不同类之间公有的属性或方法，可以抽象成一个接口（Interfaces）</li> <li>而抽象类是供其他类继承的基类，抽象类不允许被实例化。抽象类中的抽象方法必须在子类中被实现</li> <li>抽象类本质是一个无法被实例化的类，其中能够实现方法和初始化属性，而接口仅能够用于描述,既不提供方法的实现，也不为属性进行初始化</li> <li>一个类可以继承一个类或抽象类，但可以实现（implements）多个接口</li> <li>抽象类也可以实现接口</li></ul></div> <p>抽象类 和 接口 一块使用</p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">// 定义一个接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Flying</span> <span class="token punctuation">{</span>
    <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个抽象类</span>
abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span>string<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    abstract <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Flying</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'急急急'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我会飞'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> bird <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token string">'啥鸟'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bird<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 急急急</span>
bird<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我会飞</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_3-12-重写-override-和重载-overload"><a href="#_3-12-重写-override-和重载-overload" class="header-anchor">#</a> 3.12 重写(override)和重载(overload)</h3> <ul><li>重写是指子类重写继承自父类中的方法</li> <li>重载是指为同一个函数提供多个类型定义</li></ul> <p>重写</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'People叫:'</span> <span class="token operator">+</span> word
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>msg<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Student叫'</span> <span class="token operator">+</span> msg
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>重载</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span> a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> a <span class="token operator">*</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-13-继承-vs-多态"><a href="#_3-13-继承-vs-多态" class="header-anchor">#</a> 3.13 继承 VS 多态</h3> <ul><li>继承(Inheritance)子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li> <li>多态(Polymorphism)由继承而产生了相关的不同的类，对同一个方法可以有不同的行为</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Animal: '</span> <span class="token operator">+</span> word
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Cat:'</span> <span class="token operator">+</span> word
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Dog:'</span> <span class="token operator">+</span> word
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'我是猫'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'我是狗'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><hr> <h2 id="_4-接口"><a href="#_4-接口" class="header-anchor">#</a> 4. 接口</h2> <div class="custom-block tip"><p class="custom-block-title">接口定义</p> <ul><li>接口一方面可以在面向对象编程中表示为行为的抽象，另外可以用来描述对象的形状</li> <li>接口就是把一些类中共有的属性和方法抽象出来,可以用来约束实现此接口的类</li> <li>一个类可以继承另一个类并实现多个接口</li> <li>接口像插件一样是用来增强类的，而抽象类是具体类的抽象概念</li> <li>一个类可以实现多个接口，一个接口也可以被多个类实现，但一个类的可以有多个子类，但只能有一个父类</li> <li><code>语法: interface中可以用分号或者逗号分割每一项，也可以什么都不加</code></li></ul></div> <h3 id="_4-1-描述对象"><a href="#_4-1-描述对象" class="header-anchor">#</a> 4.1 描述对象</h3> <p>接口可以用来描述<code>对象的形状</code>,少属性或者多属性都会报错</p> <p>函数多是<code>函数表达式</code>的语法</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Speakable</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span> <span class="token comment">//?表示可选属性</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> speakman<span class="token punctuation">:</span> Speakable <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//少属性会报错</span>
  name<span class="token punctuation">,</span>
  age <span class="token comment">//多属性也会报错</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-2-描述行为的抽象"><a href="#_4-2-描述行为的抽象" class="header-anchor">#</a> 4.2 描述行为的抽象</h3> <p>接口实现类</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Speak</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Eat</span> <span class="token punctuation">{</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 一个类可以实现多个接口</span>
<span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token keyword">implements</span> <span class="token class-name">Speak</span><span class="token punctuation">,</span> Eat <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;people说&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;people吃&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">DuMa</span> <span class="token keyword">implements</span> <span class="token class-name">Speakable</span><span class="token punctuation">{</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DuMa说话'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_4-3-对象中的任意的属性"><a href="#_4-3-对象中的任意的属性" class="header-anchor">#</a> 4.3 对象中的任意的属性</h3> <ul><li>无法预先知道有哪些新的属性的时候,可以使用 <code>[propName:string]:any</code>,propName 名字是任意的</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  readonly id<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> string<span class="token punctuation">]</span><span class="token punctuation">:</span> any<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义的时候,可以传除要求之外的 其它任意属性</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span><span class="token string">'zhufeng'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 其它的属性</span>
  age2<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// 其它的属性</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4-4-接口的继承"><a href="#_4-4-接口的继承" class="header-anchor">#</a> 4.4 接口的继承</h3> <ul><li>一个接口可以继承自另外一个接口</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Speak</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">SpeakChinese</span> <span class="token keyword">extends</span> <span class="token class-name">Speak</span> <span class="token punctuation">{</span>
  <span class="token function">speakChinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">SpeakChinese</span> <span class="token punctuation">{</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">speakChinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'speakChinese'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_4-5-接口中-readonly"><a href="#_4-5-接口中-readonly" class="header-anchor">#</a> 4.5 接口中 readonly</h3> <ul><li>用 readonly 定义只读属性可以避免由于多人协作或者项目较为复杂等因素造成对象的值被重写</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  readonly id<span class="token punctuation">:</span>number<span class="token punctuation">;</span>
  name<span class="token punctuation">:</span>string
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tom<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  id <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span><span class="token string">'zhufeng'</span>
<span class="token punctuation">}</span>
tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-6-接口描述函数类型"><a href="#_4-6-接口描述函数类型" class="header-anchor">#</a> 4.6 接口描述函数类型</h3> <ul><li>含义: 对方法传入的参数和返回值进行约束</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">discount</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>price<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数表达式</span>
<span class="token keyword">let</span> cost<span class="token punctuation">:</span> <span class="token function-variable function">discount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">price<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_4-7-可索引接口"><a href="#_4-7-可索引接口" class="header-anchor">#</a> 4.7 可索引接口</h3> <ul><li>对数组和对象进行约束</li> <li>userInterface 表示 index 的类型是 number，那么值的类型必须是 string</li> <li>UserInterface2 表示：index 的类型是 string，那么值的类型必须是 string</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 约束数组</span>
<span class="token keyword">interface</span> <span class="token class-name">UserInterface</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr<span class="token punctuation">:</span> UserInterface <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zfpx1'</span><span class="token punctuation">,</span> <span class="token string">'zfpx2'</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// 约束对象</span>
<span class="token keyword">interface</span> <span class="token class-name">UserInterface2</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> string<span class="token punctuation">]</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj<span class="token punctuation">:</span> UserInterface2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_4-8-类接口"><a href="#_4-8-类接口" class="header-anchor">#</a> 4.8 类接口</h3> <ul><li>对类的约束</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Speakable</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
    <span class="token function">speak</span><span class="token punctuation">(</span>words<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实现接口</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Speakable</span> <span class="token punctuation">{</span>
    name<span class="token operator">!</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
    <span class="token function">speak</span><span class="token punctuation">(</span><span class="token parameter">words<span class="token punctuation">:</span>string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'汪汪汪'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_4-9-构造函数的类型"><a href="#_4-9-构造函数的类型" class="header-anchor">#</a> 4.9 构造函数的类型</h3> <ul><li>在 TypeScript 中，我们可以用 interface 来描述类</li> <li>同时也可以使用 interface 里特殊的 new()关键字来描述类的构造函数类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">WithNameClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> Animal
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">createAnimal</span><span class="token punctuation">(</span><span class="token parameter">clazz<span class="token punctuation">:</span> WithNameClass<span class="token punctuation">,</span> name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">createAnimal</span><span class="token punctuation">(</span>Animal<span class="token punctuation">,</span> <span class="token string">&quot;猫&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_4-10-接口描述函数参数"><a href="#_4-10-接口描述函数参数" class="header-anchor">#</a> 4.10 接口描述函数参数</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">// 描述函数的参数</span>
  <span class="token keyword">interface</span> <span class="token class-name">pramsType</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
    age<span class="token punctuation">:</span> number
  <span class="token punctuation">}</span>
  <span class="token comment">//  将 pramsType 约束参数类型</span>
  <span class="token keyword">function</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token punctuation">:</span> pramsType</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>name <span class="token operator">+</span> params<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add2</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_5-泛型"><a href="#_5-泛型" class="header-anchor">#</a> 5. 泛型</h2> <div class="custom-block tip"><p class="custom-block-title">含义</p> <ul><li>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性</li> <li>泛型 T 作用域只限于函数内部使用</li></ul></div> <h3 id="_5-1-泛型函数"><a href="#_5-1-泛型函数" class="header-anchor">#</a> 5.1 泛型函数</h3> <ul><li>首先，我们来实现一个函数 createArray，它可以创建一个指定长度的数组，同时将每一项都填充一个默认值</li></ul> <p>数据类型提前指定</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">:</span> number<span class="token punctuation">,</span> value<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>使用泛型&lt;具体传入什么类型,调用的时候决定&gt;</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> createArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> number<span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> createArray2 <span class="token operator">&lt;</span> string <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>不能提前确定具体的属性和值,不能先进行运算,因为这时候,还不知道你传入什么值</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>namespace <span class="token constant">E</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Fun</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(data.name) 会报错,因为这时候它不知道你传入什么类型</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  add<span class="token operator">&lt;</span>Fun<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'lisi'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-2-类数组"><a href="#_5-2-类数组" class="header-anchor">#</a> 5.2 类数组</h3> <ul><li>类数组（Array-like Object）不是数组类型，比如 arguments
使用了类型断言</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> args<span class="token punctuation">:</span> IArguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> children<span class="token punctuation">:</span> HTMLCollection <span class="token operator">=</span> <span class="token punctuation">(</span>root <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span>
children<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">let</span> nodeList<span class="token punctuation">:</span> NodeList <span class="token operator">=</span> <span class="token punctuation">(</span>root <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
nodeList<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-3-泛型类"><a href="#_5-3-泛型类" class="header-anchor">#</a> 5.3 泛型类</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1,外部实现属性和方法</span>
<span class="token keyword">class</span> <span class="token class-name">GenericNumber</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    zeroValue<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token comment">// 属性</span>
    <span class="token function-variable function">add</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token comment">// 方法</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myGenericNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericNumber</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

myGenericNumber<span class="token punctuation">.</span>zeroValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
myGenericNumber<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 2. 内部实现属性和方法(把元素放进数组, 求数组的最大值)</span>

<span class="token keyword">class</span> <span class="token class-name">MyArray</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> list<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_5-4-泛型接口"><a href="#_5-4-泛型接口" class="header-anchor">#</a> 5.4 泛型接口</h3> <ul><li>泛型接口可以用来约束函数</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Calculate</span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> add<span class="token punctuation">:</span> <span class="token function-variable function">Calculate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a
<span class="token punctuation">}</span>
add <span class="token operator">&lt;</span> number <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_5-5-多个类型参数"><a href="#_5-5-多个类型参数" class="header-anchor">#</a> 5.5 多个类型参数</h3> <ul><li>定义泛型的时候，可以一次定义多个类型参数</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> swap<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>tuple<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'seven'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-6-默认泛型类型"><a href="#_5-6-默认泛型类型" class="header-anchor">#</a> 5.6 默认泛型类型</h3> <ul><li>默认传入的是 string 类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> createArray<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> string<span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> number<span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_5-7-泛型约束"><a href="#_5-7-泛型约束" class="header-anchor">#</a> 5.7 泛型约束</h3> <ul><li>在函数中使用泛型的时候，由于预先并不知道泛型的类型，所以不能随意访问相应类型的属性或方法。</li></ul> <p>👇</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> logger<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">//直接访问会报错</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>👇 让泛型继承一个接口</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个接口</span>
<span class="token keyword">interface</span> <span class="token class-name">LengthWise</span> <span class="token punctuation">{</span>
  length<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">function</span> logger2<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">LengthWise</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 必须有一个length 方法</span>
<span class="token punctuation">}</span>
logger2<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;海南&quot;</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_5-8-泛型接口"><a href="#_5-8-泛型接口" class="header-anchor">#</a> 5.8 泛型接口</h3> <ul><li>定义接口的时候也可以指定泛型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Cart</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cart<span class="token punctuation">:</span> Cart<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> price<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cart<span class="token punctuation">.</span>list<span class="token punctuation">)</span> <span class="token comment">// [{ name: &quot;李四&quot;, price: 10 }]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_5-9-泛型类型别名"><a href="#_5-9-泛型类型别名" class="header-anchor">#</a> 5.9 泛型类型别名</h3> <ul><li>别名可以表达更复杂的类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>type Cart<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> c1<span class="token punctuation">:</span> Cart<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> c2<span class="token punctuation">:</span> Cart<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-10-泛型接口-vs-泛型类型别名"><a href="#_5-10-泛型接口-vs-泛型类型别名" class="header-anchor">#</a> 5.10 泛型接口 vs 泛型类型别名</h3> <div class="custom-block tip"><p class="custom-block-title">区别</p> <ul><li>接口创建了一个新的名字，它可以在其他任意地方被调用。而类型别名并不创建新的名字，例如报错信息就不会使用别名</li> <li>类型别名不能被 extends 和 implements,这时我们应该尽量使用接口代替类型别名</li> <li>当我们需要使用联合类型或者元组类型的时候，类型别名会更合适</li></ul></div> <h2 id="_6-结构类型的兼容"><a href="#_6-结构类型的兼容" class="header-anchor">#</a> 6. 结构类型的兼容</h2> <h3 id="_6-1-接口的兼容性"><a href="#_6-1-接口的兼容性" class="header-anchor">#</a> 6.1 接口的兼容性</h3> <ul><li>👉 如果传入的变量和声明的类型不匹配，TS 就会进行兼容性检查</li> <li>接口类型中声明的属性变量在上一个接口类型中都存在就是兼容的</li></ul> <hr> <p>那啥意思呢, 看下边的代码</p> <p><code>下面代码定义两个接口, Persion接口比 Animal 接口多了一个gender</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个Animal 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个Person 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  gender<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>定义一个函数,让参数的 数据类型要求是 Animal 接口</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// lisi</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>下边先定义一个参数,要求它匹配定义的 Person 接口</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'老王'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> <span class="token string">'man'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 老王</span>
<span class="token punctuation">}</span>
<span class="token function">fn2</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">总结</p> <p>上边<code>函数表达式</code>需要的数据类型, 只要传入的参数包含有需要的这两个属性, 允许你这个参数里多属性,但不允许你比我定义的少</p> <p>简单理解: 我想要的你能给我, 而且在满足我想要的条件后,还可以附加多给我一些其它的东西,咱俩就继续, 否则,咱俩就拜拜</p></div> <hr> <h3 id="_6-2-基本类型兼容性"><a href="#_6-2-基本类型兼容性" class="header-anchor">#</a> 6.2 基本类型兼容性</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定一个一个 b 变量,类型是 string 或者 number的</span>
<span class="token keyword">let</span> b<span class="token punctuation">:</span> string <span class="token operator">|</span> number
<span class="token comment">// 定义一个 a 变量, 类型是string 默认值是Hello</span>
<span class="token keyword">let</span> a<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// 把a的值,赋值给num(只要你赋值的值满足我的条件之一就可以)</span>
b <span class="token operator">=</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//HELLO</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_6-3-类的兼容性"><a href="#_6-3-类的兼容性" class="header-anchor">#</a> 6.3 类的兼容性</h3> <ul><li>类与对象字面量和接口差不多</li> <li>不同的是:
<ul><li>类有静态部分和实例部分的类型。</li> <li>比较两个<code>类</code>类型的对象时，只有实例的成员会被比较。</li> <li>静态成员和构造函数不在比较的范围内。</li></ul></li></ul> <hr> <hr> <hr> <h3 id="_6-4-函数兼容性"><a href="#_6-4-函数兼容性" class="header-anchor">#</a> 6.4 函数兼容性</h3> <ul><li>比较函数的时候是要先比较函数的参数，再比较函数的返回值</li></ul> <h3 id="_6-4-1-比较参数"><a href="#_6-4-1-比较参数" class="header-anchor">#</a> 👉6.4.1 比较参数</h3> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-javascript"><code>type <span class="token function-variable function">sumFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number

<span class="token keyword">let</span> sum<span class="token punctuation">:</span> sumFunc
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f1

<span class="token comment">//可以省略一个参数</span>
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f2

<span class="token comment">//可以省略二个参数</span>
<span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
sum <span class="token operator">=</span> f3

<span class="token comment">//多一个参数可不行</span>
<span class="token keyword">function</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number<span class="token punctuation">,</span> c<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c
<span class="token punctuation">}</span>
<span class="token comment">// 报错</span>
<span class="token comment">// 不能将类型“(a: number, b: number, c: number) =&gt; number”分配给类型“sumFunc”</span>
sum <span class="token operator">=</span> f4
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_6-4-2-比较返回值"><a href="#_6-4-2-比较返回值" class="header-anchor">#</a> 👉6.4.2 比较返回值</h3> <ul><li>返回值和定义的结构一样<code>可以</code></li> <li>返回值和比定义的结构多属性<code>可以</code></li> <li>返回值和比定义的结构少属性<code>不可以</code></li></ul> <hr> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-javascript"><code>type <span class="token function-variable function">GetPerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> age<span class="token punctuation">:</span> number <span class="token punctuation">}</span>
<span class="token keyword">let</span> getPerson<span class="token punctuation">:</span> GetPerson
<span class="token comment">//返回值一样可以</span>
<span class="token keyword">function</span> <span class="token function">g1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
getPerson <span class="token operator">=</span> g1
<span class="token comment">//返回值多一个属性也可以</span>
<span class="token keyword">function</span> <span class="token function">g2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> gender<span class="token punctuation">:</span> <span class="token string">'male'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
getPerson <span class="token operator">=</span> g2

<span class="token comment">//返回值少一个属性可不行</span>
<span class="token keyword">function</span> <span class="token function">g3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这里赋值会报错 `'age' is declared here`</span>
getPerson <span class="token operator">=</span> g3
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_6-5-函数参数协变"><a href="#_6-5-函数参数协变" class="header-anchor">#</a> 6.5 函数参数协变</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个数据类型</span>
type <span class="token function-variable function">LogFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number <span class="token operator">|</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// 定义一个变量log,它的类型是LogFunc</span>
<span class="token keyword">let</span> log<span class="token punctuation">:</span> LogFunc

<span class="token comment">// 定义一个函数</span>
<span class="token keyword">function</span> <span class="token function">log1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number <span class="token operator">|</span> string <span class="token operator">|</span> boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//赋值, 如果log1 函数需要的数据类型 满足 log 变量就是可以的</span>
log <span class="token operator">=</span> log1
<span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_6-6-泛型的兼容性"><a href="#_6-6-泛型的兼容性" class="header-anchor">#</a> 6.6 泛型的兼容性</h3> <ul><li>泛型在判断兼容性的时候会先判断具体的类型,然后再进行兼容性判断</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.接口内容为空没用到泛型的时候是可以的</span>
<span class="token keyword">interface</span> <span class="token class-name">Empty</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> x<span class="token operator">!</span><span class="token punctuation">:</span> Empty<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>
<span class="token keyword">let</span> y<span class="token operator">!</span><span class="token punctuation">:</span> Empty<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span>
x <span class="token operator">=</span> y
<span class="token comment">//2.接口内容不为空的时候不可以</span>
<span class="token keyword">interface</span> <span class="token class-name">NotEmpty</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> x1<span class="token operator">!</span><span class="token punctuation">:</span> NotEmpty<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>
<span class="token keyword">let</span> y1<span class="token operator">!</span><span class="token punctuation">:</span> NotEmpty<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span>
<span class="token comment">//不能将类型“NotEmpty&lt;number&gt;”分配给类型“NotEmpty&lt;string&gt;”</span>
<span class="token comment">//不能将类型“number”分配给类型“string”</span>
x1 <span class="token operator">=</span> y1

<span class="token comment">// 下边这样才可以</span>
<span class="token keyword">let</span> x2<span class="token punctuation">:</span> NotEmpty<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> data<span class="token punctuation">:</span> <span class="token string">&quot;10&quot;</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_6-7-枚举的兼容性"><a href="#_6-7-枚举的兼容性" class="header-anchor">#</a> 6.7 枚举的兼容性</h3> <ul><li>枚举类型与数字类型兼容，并且数字类型与枚举类型兼容</li> <li>不同枚举类型之间是不兼容的</li></ul> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">//数字可以赋给枚举</span>
<span class="token keyword">enum</span> Colors <span class="token punctuation">{</span>
  Red<span class="token punctuation">,</span>
  Yellow
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token punctuation">:</span> Colors
c <span class="token operator">=</span> Colors<span class="token punctuation">.</span>Red
c <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment">// 报错 不能将类型“&quot;1&quot;”分配给类型“Colors”</span>
c <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span>

<span class="token comment">//枚举值可以赋给数字</span>
<span class="token keyword">let</span> n<span class="token punctuation">:</span> number
n <span class="token operator">=</span> <span class="token number">1</span>
n <span class="token operator">=</span> Colors<span class="token punctuation">.</span>Red
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_7-类型保护"><a href="#_7-类型保护" class="header-anchor">#</a> 7. 类型保护</h2> <ul><li>类型保护就是一些表达式，他们在编译的时候就能通过类型信息确保某个作用域内变量的类型</li> <li>类型保护就是能够通过关键字判断出分支中的类型</li></ul> <h3 id="_7-1-typeof-类型保护"><a href="#_7-1-typeof-类型保护" class="header-anchor">#</a> 7.1 typeof 类型保护</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 通过typeof 判断不同的数据类型的情况下, 返回不同的结果, 同原生 js 判断一样</span>
<span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">:</span> string <span class="token operator">|</span> number <span class="token operator">|</span> boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> input <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> input <span class="token operator">+</span> input
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> input <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> input <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">!</span>input
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//传入数字</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token comment">//传入字符串</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">//传入布尔值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr> <h3 id="_7-2-instanceof-类型保护"><a href="#_7-2-instanceof-类型保护" class="header-anchor">#</a> 7.2 instanceof 类型保护</h3> <ul><li>instanceof 判断谁是谁的实例 返回值 boolean</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'Animal'</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  swing<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断如果 animal 参数是  Bird 类的实例</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>swing<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">getName</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">// Animal</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">getName</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_7-3-null-类型保护"><a href="#_7-3-null-类型保护" class="header-anchor">#</a> 7.3 null 类型保护</h3> <ul><li>类似于原生 js null 判断</li> <li>配置文件中(tsconfig.js)如果开启了 strictNullChecks 选项，那么对于可能为 null 的变量不能调用它上面的方法和属性</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getFirstLetter</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> string <span class="token operator">|</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//第一种方式是加上null判断</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//第二种处理是增加一个或的处理</span>
  s <span class="token operator">=</span> s <span class="token operator">||</span> <span class="token string">&quot;&quot;</span>
  <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//它并不能处理一些复杂的判断，需要加非空断言操作符</span>
<span class="token keyword">function</span> <span class="token function">getFirstLetter2</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> string <span class="token operator">|</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  s <span class="token operator">=</span> s <span class="token operator">||</span> <span class="token string">&quot;&quot;</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_7-4-可辨识的联合类型"><a href="#_7-4-可辨识的联合类型" class="header-anchor">#</a> 7.4 可辨识的联合类型</h3> <ul><li>就是利用联合类型中的共有字段进行类型保护的一种技巧</li> <li>相同字段的不同取值就是可辨识</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">WarningButton</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">&quot;warning&quot;</span>
  text1<span class="token punctuation">:</span> <span class="token string">&quot;修改&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">DangerButton</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">&quot;danger&quot;</span>
  text2<span class="token punctuation">:</span> <span class="token string">&quot;删除&quot;</span>
<span class="token punctuation">}</span>
type Button <span class="token operator">=</span> WarningButton <span class="token operator">|</span> DangerButton
<span class="token keyword">function</span> <span class="token function">getButton</span><span class="token punctuation">(</span><span class="token parameter">button<span class="token punctuation">:</span> Button</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>button<span class="token punctuation">.</span>class <span class="token operator">==</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span>text1<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>button<span class="token punctuation">.</span>class <span class="token operator">==</span> <span class="token string">&quot;danger&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span>text2<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_7-5-in-操作符"><a href="#_7-5-in-操作符" class="header-anchor">#</a> 7.5 in 操作符</h3> <ul><li>in 运算符可以被用于参数类型的判断</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  swing<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  leg<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'swing'</span> <span class="token keyword">in</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">.</span>swing
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> x<span class="token punctuation">.</span>leg
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token punctuation">{</span> leg<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr> <h2 id="_8-类型变换"><a href="#_8-类型变换" class="header-anchor">#</a> 8. 类型变换</h2> <h3 id="_8-1-交叉类型"><a href="#_8-1-交叉类型" class="header-anchor">#</a> 8.1 交叉类型</h3> <ul><li>交叉类型（Intersection Types）表示将多个类型合并为一个类型</li> <li>也就是可以合并两个类型, 如下的两个接口</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义接口 Bird</span>
<span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义接口 Person</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个数据类型结构组合 BirdPerson</span>
type BirdPerson <span class="token operator">=</span> Bird <span class="token operator">&amp;</span> Person
<span class="token comment">//  注意type 定义的东西不能打印啊</span>
<span class="token comment">// console.log(BirdPerson)</span>
<span class="token comment">// 使用这个类型</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span> BirdPerson <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;zhufeng&quot;</span><span class="token punctuation">,</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
p<span class="token punctuation">.</span>fly
p<span class="token punctuation">.</span>name
p<span class="token punctuation">.</span>talk
<span class="token comment">//  报错 'fly' is declared here.</span>
<span class="token keyword">let</span> p2<span class="token punctuation">:</span> BirdPerson <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;zhufeng&quot;</span><span class="token punctuation">,</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_8-2-typeof"><a href="#_8-2-typeof" class="header-anchor">#</a> 8.2 typeof</h3> <ul><li>可以获取一个变量的类型</li></ul> <p>和 type 组合演示</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//先定义类型，再定义变量</span>
type People <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1<span class="token punctuation">:</span> People <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个类型 ,是 p1 的数据类型</span>
type People <span class="token operator">=</span> <span class="token keyword">typeof</span> p1

<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> People</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> p<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
<span class="token comment">// 传入p1</span>
<span class="token function">getName</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_8-3-索引访问操作符"><a href="#_8-3-索引访问操作符" class="header-anchor">#</a> 8.3 索引访问操作符</h3> <ul><li>可以通过[]获取一个类型的子类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义接口 Person</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
  <span class="token punctuation">}</span>
  interests<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span> level<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个变量, 类型是Person接口中的某个属性的子类型</span>
<span class="token keyword">let</span> FrontEndJob<span class="token punctuation">:</span> Person<span class="token punctuation">[</span><span class="token string">&quot;job&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;前端工程师&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义一个变量, 类型是Person接口中的某个属性的子类型</span>
<span class="token keyword">let</span> interestLevel<span class="token punctuation">:</span> Person<span class="token punctuation">[</span><span class="token string">&quot;interests&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;level&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_8-4-keyof-类型查询"><a href="#_8-4-keyof-类型查询" class="header-anchor">#</a> 8.4 keyof 类型查询</h3> <ul><li>它是 索引类型查询操作符, keyof 会内部遍历变量接口定义的类型,然后取其中的某一个类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  gender<span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">//type PersonKey 是Person接口中定义的 'name'|'age'|'gender' 中的某一个;</span>

type PersonKey <span class="token operator">=</span> keyof Person

<span class="token comment">// 获取对象中某个key对应的值</span>
<span class="token keyword">function</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> Person<span class="token punctuation">,</span> key<span class="token punctuation">:</span> PersonKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> p<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 调用</span>
<span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    gender<span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span>
<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token comment">// hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_8-5-in-操作符进行映射类型"><a href="#_8-5-in-操作符进行映射类型" class="header-anchor">#</a> 8.5 in 操作符进行映射类型</h3> <ul><li>在定义的时候用 in 操作符去批量定义类型中的属性</li></ul> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">// 定义接口Person</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  gender<span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">//批量把一个接口中的属性都变成可选的</span>
type PartPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Key <span class="token keyword">in</span> keyof Person<span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> Person<span class="token punctuation">[</span>Key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用时,赋值一个空对象</span>
<span class="token keyword">let</span> p1<span class="token punctuation">:</span> PartPerson <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">//批量把一个接口中的属性都再重新描述一遍(演示用,开发中不会这么写的)</span>
type PartPerson1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Key <span class="token keyword">in</span> keyof Person<span class="token punctuation">]</span><span class="token punctuation">:</span> Person<span class="token punctuation">[</span>Key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用时,报错</span>
<span class="token keyword">let</span> p2<span class="token punctuation">:</span> PartPerson1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// //也可以使用泛型</span>
type Part<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p3<span class="token punctuation">:</span> Part<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_8-6-内置类型工具"><a href="#_8-6-内置类型工具" class="header-anchor">#</a> 8.6 内置类型工具</h3> <ul><li>TS 中内置了一些工具类型来帮助我们更好地使用类型系统</li></ul> <div class="custom-block tip"><p class="custom-block-title">Partial</p> <p><code>Partial 可以将传入的属性由非可选变为可选</code></p> <p>演示:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  a1<span class="token punctuation">:</span> string
  a2<span class="token punctuation">:</span> number
  a3<span class="token punctuation">:</span> boolean
<span class="token punctuation">}</span>

<span class="token comment">// 属性必传</span>
type aPartial1 <span class="token operator">=</span> <span class="token constant">A</span>
<span class="token comment">// Type '{}' is missing the following properties from type 'A': a1, a2, a3</span>
<span class="token keyword">const</span> a1<span class="token punctuation">:</span> aPartial1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token comment">// 报错</span>

<span class="token comment">// 使用Partial将属性变为可选</span>
type aPartial <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> a<span class="token punctuation">:</span> aPartial <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 通过</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div> <hr> <div class="custom-block warning"><p class="custom-block-title">Required</p> <p><code>Required 可以将传入的属性中的可选项变为必选项</code></p> <p>演示:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  gender<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span> Required<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;zhufeng&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token comment">//gender:'male'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 通过</span>
<span class="token keyword">let</span> p2<span class="token punctuation">:</span> Required<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;zhufeng&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></div> <hr> <div class="custom-block danger"><p class="custom-block-title">Readonly</p> <p><code>Readonly 通过为传入的属性每一项都加上 readonly 修饰符来实现</code></p> <p>演示:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
  gender<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义</span>
<span class="token keyword">let</span> p<span class="token punctuation">:</span> Readonly<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;美丽&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  gender<span class="token punctuation">:</span> <span class="token string">&quot;male&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 修改age的值, 报错, 因为是只读的</span>
p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div> <hr> <div class="custom-block tip"><p class="custom-block-title">Pick</p> <ul><li>Pick 能够帮助我们从传入的属性中摘取某一项返回</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>

<span class="token comment">// 从 Animal 中的 name 属性</span>
type AnimalSub <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Animal<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span> <span class="token comment">//{ name: string; }</span>

<span class="token comment">// 使用AnimalSub类型,报错 因为只有 { name: string; }</span>
<span class="token comment">// 不在类型“Pick&lt;Animal, &quot;name&quot;&gt;”</span>
<span class="token keyword">let</span> a<span class="token punctuation">:</span> AnimalSub <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;zhufeng&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div> <h3 id="_8-7-extends-条件类型"><a href="#_8-7-extends-条件类型" class="header-anchor">#</a> 8.7 extends 条件类型</h3> <ul><li>定义泛型的时候能够添加进逻辑分支，以后泛型更加灵活</li> <li>extends 就是继承自多个接口中一个, 也可以使用三元运算符</li> <li>语法: <code>&lt;T extends interfaceName&gt;</code></li></ul> <p>定义一个条件类型</p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Water</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Sky</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token comment">// T 是以上三个接口的任意一个</span>

type Condition<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Fish</span> <span class="token operator">?</span> Water <span class="token punctuation">:</span> Sky
<span class="token keyword">let</span> condition<span class="token punctuation">:</span> Condition<span class="token operator">&lt;</span>Fish<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;水&quot;</span> <span class="token punctuation">}</span>

type Condition1<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Fish</span> <span class="token operator">?</span> Water <span class="token punctuation">:</span> Bird
<span class="token comment">// 以下报错 Bird 不是 Fish</span>
<span class="token keyword">let</span> condition1<span class="token punctuation">:</span> Condition1<span class="token operator">&lt;</span>Bird<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;水&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>条件类型的分发</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  fish<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Water</span> <span class="token punctuation">{</span>
  water<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

type Condition<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Fish</span> <span class="token operator">?</span> Fish <span class="token punctuation">:</span> Water

<span class="token keyword">let</span> condition1<span class="token punctuation">:</span> Condition<span class="token operator">&lt;</span>Fish <span class="token operator">|</span> Water<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> water<span class="token punctuation">:</span> <span class="token string">&quot;水&quot;</span> <span class="token punctuation">}</span>

<span class="token keyword">let</span> condition2<span class="token punctuation">:</span> Condition<span class="token operator">&lt;</span>Fish<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> fish<span class="token punctuation">:</span> <span class="token string">&quot;天空&quot;</span> <span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token keyword">let</span> condition3<span class="token punctuation">:</span> Condition<span class="token operator">&lt;</span>Water<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> fish<span class="token punctuation">:</span> <span class="token string">&quot;天空&quot;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_8-8-内置条件类型"><a href="#_8-8-内置条件类型" class="header-anchor">#</a> 8.8 内置条件类型</h3> <ul><li>TS 在内置了一些常用的条件类型，可以在 <a href="https://github.com/Microsoft/TypeScript/blob/c48662c891ce810f5627a0f6a8594049cccceeb5/lib/lib.es5.d.ts#L1291" target="_blank" rel="noopener noreferrer">lib.es5.d.ts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中查看：</li></ul> <hr> <h3 id="_8-8-1-exclude-排除掉"><a href="#_8-8-1-exclude-排除掉" class="header-anchor">#</a> 👉8.8.1 Exclude(排除掉)</h3> <ul><li>语法: <code>Exclude&lt;多个类型, 排除掉哪个类型&gt;</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 从类型中排除掉 string类型</span>
type myType <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span>string <span class="token operator">|</span> number<span class="token punctuation">,</span> string<span class="token operator">&gt;</span>

<span class="token keyword">let</span> e<span class="token punctuation">:</span> myType <span class="token operator">=</span> <span class="token number">10</span>
<span class="token comment">// 报错</span>
<span class="token keyword">let</span> e1<span class="token punctuation">:</span> myType <span class="token operator">=</span> <span class="token string">'10'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">// 10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_8-8-2-extract-提取"><a href="#_8-8-2-extract-提取" class="header-anchor">#</a> 👉8.8.2 Extract(提取)</h3> <ul><li>从某些类型中, 提取某些类型, 语法同 Exclude 差不多</li> <li>语法: <code>Exclude&lt;多个类型, 提取的哪些类型&gt;</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 提取string 类型</span>
type str <span class="token operator">=</span> Extract<span class="token operator">&lt;</span>string <span class="token operator">|</span> number<span class="token punctuation">,</span> string<span class="token operator">&gt;</span>
<span class="token comment">// 使用</span>
<span class="token keyword">let</span> e<span class="token punctuation">:</span> str <span class="token operator">=</span> <span class="token string">'1'</span>

<span class="token comment">// 报错, 因为只有string</span>
<span class="token keyword">let</span> e2<span class="token punctuation">:</span> str <span class="token operator">=</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_8-8-3-nonnullable"><a href="#_8-8-3-nonnullable" class="header-anchor">#</a> 👉8.8.3 NonNullable</h3> <ul><li>排除掉 null 和 undefind</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>type <span class="token constant">E</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span>string <span class="token operator">|</span> number <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> e<span class="token punctuation">:</span> <span class="token constant">E</span> <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_8-8-4-returntype"><a href="#_8-8-4-returntype" class="header-anchor">#</a> 👉8.8.4 ReturnType</h3> <ul><li>获取函数类型的返回类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过 ReturnType 将 getUserInfo 的返回值类型赋给了 UserInfo</span>
type UserInfo <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getUserInfo<span class="token operator">&gt;</span>

<span class="token keyword">const</span> userA<span class="token punctuation">:</span> UserInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_8-8-4-instancetype-实例类型"><a href="#_8-8-4-instancetype-实例类型" class="header-anchor">#</a> 👉8.8.4 InstanceType 实例类型</h3> <ul><li>获取构造函数类型的实例类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

type <span class="token constant">P</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Person<span class="token operator">&gt;</span>

<span class="token keyword">let</span> p<span class="token punctuation">:</span> <span class="token constant">P</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_9-模块-vs-命名空间"><a href="#_9-模块-vs-命名空间" class="header-anchor">#</a> 9. 模块 VS 命名空间</h2> <p>模块</p> <ul><li>模块是 TS 中外部模块的简称，侧重于代码和复用</li> <li>模块在期自身的作用域里执行，而不是在全局作用域里</li> <li>一个模块里的变量、函数、类等在外部是不可见的，除非你把它导出</li> <li>如果想要使用一个模块里导出的变量，则需要导入</li></ul> <hr> <p>命名空间(一般用不到)</p> <ul><li>在代码量较大的情况下，为了避免命名空间冲突，可以将相似的函数、类、接口放置到命名空间内</li> <li>命名空间可以将代码包裹起来，只对外暴露需要在外部访问的对象，命名空间内通过 export 向外导出</li> <li>命名空间是内部模块，主要用于组织代码，避免命名冲突</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> namespace zoo <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'zoo dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> namespace home <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'home dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog_of_zoo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">zoo<span class="token punctuation">.</span>Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog_of_zoo<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dog_of_home <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">home<span class="token punctuation">.</span>Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog_of_home<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> zoo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'file_path'</span>
<span class="token keyword">let</span> dog_of_zoo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">zoo<span class="token punctuation">.</span>Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog_of_zoo<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_10-啥时间使用-type-和-interface"><a href="#_10-啥时间使用-type-和-interface" class="header-anchor">#</a> 10. 啥时间使用 type 和 interface</h2> <div class="custom-block tip"><p class="custom-block-title">区别</p> <ul><li>type 和 interface 怎么使用呢, 开发中这俩用的最多的应该是 interface</li> <li>type 就是用来定义类型的, 不要把它 和定义变量的 let var const 混淆</li> <li>你可以把 type 理解为,你可以自己定义任何 js ts 支持的数据类型,或者组合一些复杂的类型</li> <li>interface 有时和 type 是一样的功能</li> <li>interface 再类中使用需要实现</li> <li>他俩都可以修饰泛型</li></ul> <p>接口泛型 和 type 泛型 混合使用</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 使用接口</span>
<span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>

<span class="token keyword">function</span> num<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token punctuation">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
num<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token comment">// 使用 type</span>

type <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>

<span class="token keyword">function</span> fnB<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>b<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> b
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p<span class="token punctuation">:</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>

fnB<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>使用 type</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 内置的string 等基本类型</span>
<span class="token keyword">let</span> a1<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'a1'</span>
<span class="token comment">//上边这种也可以改写为下边:</span>
type a <span class="token operator">=</span> string
<span class="token keyword">let</span> a<span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token string">'hello'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// hello</span>

<span class="token comment">// 定义一个函数类型</span>
type <span class="token function-variable function">funType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> num<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> string

<span class="token keyword">let</span> fn<span class="token punctuation">:</span> <span class="token function-variable function">funType</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> num<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> name <span class="token operator">+</span> num
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1010</span>

<span class="token comment">// 定义一个对象</span>
type objType <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj<span class="token punctuation">:</span> objType <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'定义对象'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">//{ name: '定义对象' }</span>

<span class="token comment">// 定义复杂的类型的组合</span>
<span class="token keyword">function</span> <span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// s类型就是函数返回一个对象</span>
type s <span class="token operator">=</span> <span class="token keyword">typeof</span> myFun

<span class="token keyword">let</span> b<span class="token punctuation">:</span> <span class="token function-variable function">s</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 也可以修饰泛型...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>使用 interface, 它有时和 type 实现的功能一样</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token punctuation">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;我的&quot;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// { name: '我的', age: 12 }</span>

<span class="token keyword">interface</span> <span class="token class-name">discount</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>price<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number
<span class="token punctuation">}</span>
<span class="token comment">// 修饰函数</span>
<span class="token keyword">let</span> cost<span class="token punctuation">:</span> <span class="token function-variable function">discount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">price<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>那么,还是没有说到底啥时间用他俩, 其实它俩差不多, 只不过个别时候实现时有些不一样,
所以这俩东西,你哪个顺手, 就用哪个</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/frontend-qin/my_blog/edit/master/ts/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main> <!----> <div class="comments-wrapper" data-v-ad130a7c><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-3a5f5fc5 data-v-3a5f5fc5><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-3a5f5fc5><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-3a5f5fc5></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-3a5f5fc5></path></svg></div></div></div>
    <script src="/my_blog/assets/js/app.34ed07df.js" defer></script><script src="/my_blog/assets/js/3.acf4e5e6.js" defer></script><script src="/my_blog/assets/js/1.08a2e124.js" defer></script><script src="/my_blog/assets/js/16.1c7b15c1.js" defer></script>
  </body>
</html>
